        {% extends "base.html"  %}
        {% block head %}
            <script type="text/javascript" src="/static/js/firetower.js"></script>
            <script type="text/javascript">
                $(document).ready(function() {
                    firetower();
                });
            </script>
        {% endblock %}
        {% block content %}

        <br />
        <br />

        <div class="container">
            <div class="page-header">
                <h1>Aggregate</h1>
                <small>Plots of all categories</small>
            </div>

            <div class="row">
                <div class="span12" id="totalsPlaceholder">
                    &nbsp;
                    <div id="loadingMsg">Loading...</div>
                </div>
            </div>
            <div class="row">
                <div class="span12" id="totalsLegend">&nbsp;</div>
            </div>
            <br />

            <div class="row">
                <div class="span12" id="aggregatePlaceholder">
                    &nbsp;
                    <div id="loadingMsg">Loading...</div>
                </div>
            </div>
            <div class="row"><div class="span12" id="legend">&nbsp;</div></div>

            <table class="table table-striped" id="keyTable">
                <thead>
                    <tr><th>Category Name</th><th>Count</th></tr>
                </thead>
            </table>

            <br />


            <div class="row">
                <div class="span12">
                    <h3>Modify Graphs</h3>
                    <form>
                        <formset>
                            <div class="clearfix">
                                <label for="last_x_minutes">Graph the last</label>
                                <div class="input">
                                    <input class="small" id="last_x_minutes" />
                                </div>
                            </div>
                            <div class="clearfix">
                                <label for="filter_threshold">Filter Fewer Than</label>
                                <div class="input">
                                    <input class="small" id="filter_threshold" />
                                </div>
                            </div>
                            <div class="clearfix">
                                <label for="reload_check">
                                    Auto reload <input type="checkbox" name="reload_check" id="reload_check" />
                                </label>
                            </div>
                            <div class="clearfix">
                                <label for="set_reload">
                                    Reload Frequency
                                </label>
                                <div class="input">
                                    <input class="small" type="text" id="reload_input" value="60" /><br />
                                </div>
                            </div>
                            <div class="clearfix">
                                <label for="slice_selection">
                                    timeslice
                                </label>
                                <select class="small" name="slice" id="slice_selection">
                                    {% for element in time_slice_options %}
                                    <option value="{{ element }}">{{ element }}</option>
                                    {% endfor %}

                                </select>
                            </div>
                            <div class="actions">
                                <input type="submit" class="btn primary" value="Make it so">
                            </div>
                            <span>Graph last updated <span id="last_reload">-</span> seconds ago.</span>
                        </formset>
                    </form>
                </div>
            </div> <!-- end row -->
        </div> <!-- end of container -->

        {% endblock %}
